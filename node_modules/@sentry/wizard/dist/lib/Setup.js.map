{"version":3,"file":"Setup.js","sourceRoot":"","sources":["../../lib/Setup.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0BAA4B;AAG5B,0CAA8C;AAC9C,8BAAgC;AAChC,IAAM,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC;AAE5C,aAA0B,IAAS;;;;YAC3B,IAAI,gBAAQ,IAAI,EAAK,OAAO,CAAC,eAAe,CAAC,CAAE,CAAC;YACtD,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;gBAChC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;YACG,KAAK,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YACvF,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;gBAC5B,KAAK,GAAG,CAAC,CAAC,MAAM,CACd,KAAK,EACL,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,aAAa,EAClB,IAAI,CAAC,qBAAqB,CAC3B,CAAC;aACH;YACD,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YACtF,sBAAO,oBAAW,gBAAC,IAAI,SAAK,KAAK,IAAE;;;CACpC;AAhBD,kBAgBC","sourcesContent":["import * as _ from 'lodash';\nimport { Args } from './Constants';\nimport { green, red } from './Helper/Logging';\nimport { startWizard } from './Helper/Wizard';\nimport * as Step from './Steps';\nconst readEnv = require('read-env').default;\n\nexport async function run(argv: any): Promise<{}> {\n  const args = { ...argv, ...readEnv('SENTRY_WIZARD') };\n  if (args.uninstall === undefined) {\n    args.uninstall = false;\n  }\n  let steps = [Step.Initial, Step.Welcome, Step.ChooseIntegration, Step.ShouldConfigure];\n  if (args.uninstall === false) {\n    steps = _.concat(\n      steps,\n      Step.OpenSentry,\n      Step.WaitForSentry,\n      Step.SentryProjectSelector\n    );\n  }\n  steps = _.concat(steps, Step.PromptForParameters, Step.ConfigureProject, Step.Result);\n  return startWizard(args, ...steps);\n}\n"]}